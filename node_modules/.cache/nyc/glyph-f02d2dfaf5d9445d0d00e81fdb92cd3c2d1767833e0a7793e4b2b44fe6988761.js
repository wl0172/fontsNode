function cov_2ei19w81cg(){var path="/Users/cce/Desktop/myDemo/fontNoe/plugins/glyph.js";var hash="229307db47207b0fe2492740093bf88d5d6cdcc1";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/cce/Desktop/myDemo/fontNoe/plugins/glyph.js",statementMap:{"0":{start:{line:8,column:8},end:{line:8,column:25}},"1":{start:{line:9,column:12},end:{line:9,column:29}},"2":{start:{line:10,column:14},end:{line:10,column:33}},"3":{start:{line:11,column:10},end:{line:11,column:40}},"4":{start:{line:12,column:16},end:{line:12,column:52}},"5":{start:{line:13,column:16},end:{line:13,column:52}},"6":{start:{line:14,column:11},end:{line:14,column:30}},"7":{start:{line:15,column:11},end:{line:15,column:30}},"8":{start:{line:16,column:11},end:{line:16,column:33}},"9":{start:{line:27,column:17},end:{line:27,column:19}},"10":{start:{line:29,column:20},end:{line:31,column:6}},"11":{start:{line:33,column:4},end:{line:35,column:5}},"12":{start:{line:34,column:8},end:{line:34,column:40}},"13":{start:{line:37,column:4},end:{line:37,column:38}},"14":{start:{line:39,column:4},end:{line:39,column:18}},"15":{start:{line:54,column:4},end:{line:56,column:5}},"16":{start:{line:55,column:8},end:{line:55,column:25}},"17":{start:{line:59,column:14},end:{line:59,column:32}},"18":{start:{line:62,column:4},end:{line:62,column:45}},"19":{start:{line:65,column:4},end:{line:67,column:5}},"20":{start:{line:66,column:8},end:{line:66,column:20}},"21":{start:{line:69,column:4},end:{line:69,column:21}},"22":{start:{line:82,column:4},end:{line:82,column:22}},"23":{start:{line:84,column:17},end:{line:84,column:25}},"24":{start:{line:86,column:4},end:{line:88,column:5}},"25":{start:{line:87,column:8},end:{line:87,column:58}},"26":{start:{line:90,column:18},end:{line:94,column:5}},"27":{start:{line:96,column:20},end:{line:98,column:5}},"28":{start:{line:100,column:4},end:{line:103,column:6}},"29":{start:{line:119,column:0},end:{line:170,column:2}},"30":{start:{line:121,column:4},end:{line:121,column:55}},"31":{start:{line:124,column:21},end:{line:124,column:45}},"32":{start:{line:125,column:4},end:{line:125,column:51}},"33":{start:{line:128,column:4},end:{line:168,column:7}},"34":{start:{line:133,column:8},end:{line:136,column:9}},"35":{start:{line:134,column:12},end:{line:134,column:27}},"36":{start:{line:135,column:12},end:{line:135,column:19}},"37":{start:{line:139,column:8},end:{line:142,column:9}},"38":{start:{line:140,column:12},end:{line:140,column:56}},"39":{start:{line:141,column:12},end:{line:141,column:19}},"40":{start:{line:145,column:8},end:{line:148,column:9}},"41":{start:{line:146,column:12},end:{line:146,column:27}},"42":{start:{line:147,column:12},end:{line:147,column:19}},"43":{start:{line:150,column:8},end:{line:166,column:9}},"44":{start:{line:153,column:26},end:{line:156,column:13}},"45":{start:{line:158,column:12},end:{line:158,column:43}},"46":{start:{line:159,column:12},end:{line:159,column:44}},"47":{start:{line:161,column:12},end:{line:161,column:27}},"48":{start:{line:165,column:12},end:{line:165,column:20}}},fnMap:{"0":{name:"getSubsetGlyfs",decl:{start:{line:25,column:9},end:{line:25,column:23}},loc:{start:{line:25,column:37},end:{line:40,column:1}},line:25},"1":{name:"minifyFontObject",decl:{start:{line:51,column:9},end:{line:51,column:25}},loc:{start:{line:51,column:53},end:{line:70,column:1}},line:51},"2":{name:"minifyTtf",decl:{start:{line:80,column:9},end:{line:80,column:18}},loc:{start:{line:80,column:35},end:{line:105,column:1}},line:80},"3":{name:"(anonymous_3)",decl:{start:{line:119,column:17},end:{line:119,column:18}},loc:{start:{line:119,column:33},end:{line:170,column:1}},line:119},"4":{name:"(anonymous_4)",decl:{start:{line:130,column:7},end:{line:130,column:8}},loc:{start:{line:130,column:32},end:{line:168,column:5}},line:130}},branchMap:{"0":{loc:{start:{line:30,column:17},end:{line:30,column:29}},type:"binary-expr",locations:[{start:{line:30,column:17},end:{line:30,column:23}},{start:{line:30,column:27},end:{line:30,column:29}}],line:30},"1":{loc:{start:{line:33,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:35,column:5}},{start:{line:33,column:4},end:{line:35,column:5}}],line:33},"2":{loc:{start:{line:54,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:56,column:5}},{start:{line:54,column:4},end:{line:56,column:5}}],line:54},"3":{loc:{start:{line:65,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:65,column:4},end:{line:67,column:5}},{start:{line:65,column:4},end:{line:67,column:5}}],line:65},"4":{loc:{start:{line:82,column:11},end:{line:82,column:21}},type:"binary-expr",locations:[{start:{line:82,column:11},end:{line:82,column:15}},{start:{line:82,column:19},end:{line:82,column:21}}],line:82},"5":{loc:{start:{line:86,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:88,column:5}},{start:{line:86,column:4},end:{line:88,column:5}}],line:86},"6":{loc:{start:{line:133,column:8},end:{line:136,column:9}},type:"if",locations:[{start:{line:133,column:8},end:{line:136,column:9}},{start:{line:133,column:8},end:{line:136,column:9}}],line:133},"7":{loc:{start:{line:139,column:8},end:{line:142,column:9}},type:"if",locations:[{start:{line:139,column:8},end:{line:142,column:9}},{start:{line:139,column:8},end:{line:142,column:9}}],line:139},"8":{loc:{start:{line:145,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:145,column:8},end:{line:148,column:9}},{start:{line:145,column:8},end:{line:148,column:9}}],line:145},"9":{loc:{start:{line:154,column:16},end:{line:154,column:47}},type:"binary-expr",locations:[{start:{line:154,column:16},end:{line:154,column:30}},{start:{line:154,column:34},end:{line:154,column:47}}],line:154}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"229307db47207b0fe2492740093bf88d5d6cdcc1"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2ei19w81cg=function(){return actualCoverage;};}return actualCoverage;}cov_2ei19w81cg();/**
 * @file glyph
 * @author junmer
 */ /* eslint-env node */var _=(cov_2ei19w81cg().s[0]++,require('lodash'));var isTtf=(cov_2ei19w81cg().s[1]++,require('is-ttf'));var through=(cov_2ei19w81cg().s[2]++,require('through2'));var TTF=(cov_2ei19w81cg().s[3]++,require('fonteditor-core').TTF);var TTFReader=(cov_2ei19w81cg().s[4]++,require('fonteditor-core').TTFReader);var TTFWriter=(cov_2ei19w81cg().s[5]++,require('fonteditor-core').TTFWriter);var b2ab=(cov_2ei19w81cg().s[6]++,require('b3b').b2ab);var ab2b=(cov_2ei19w81cg().s[7]++,require('b3b').ab2b);var util=(cov_2ei19w81cg().s[8]++,require('../lib/util'));/**
 * getSubsetGlyfs
 *
 * @param  {ttfObject} ttf ttfobj
 * @param  {Array} subset subset unicode
 * @return {Array}     glyfs array
 */function getSubsetGlyfs(ttf,subset){cov_2ei19w81cg().f[0]++;var glyphs=(cov_2ei19w81cg().s[9]++,[]);var indexList=(cov_2ei19w81cg().s[10]++,ttf.findGlyf({unicode:(cov_2ei19w81cg().b[0][0]++,subset)||(cov_2ei19w81cg().b[0][1]++,[])}));cov_2ei19w81cg().s[11]++;if(indexList.length){cov_2ei19w81cg().b[1][0]++;cov_2ei19w81cg().s[12]++;glyphs=ttf.getGlyf(indexList);}else{cov_2ei19w81cg().b[1][1]++;}cov_2ei19w81cg().s[13]++;glyphs.unshift(ttf.get().glyf[0]);cov_2ei19w81cg().s[14]++;return glyphs;}/**
 * minifyFontObject
 *
 * @param  {Object} ttfObject    ttfObject
 * @param  {Array} subset         subset
 * @param  {Function=} plugin       use plugin
 * @return {Object}              ttfObject
 */function minifyFontObject(ttfObject,subset,plugin){cov_2ei19w81cg().f[1]++;cov_2ei19w81cg().s[15]++;// check null
if(subset.length===0){cov_2ei19w81cg().b[2][0]++;cov_2ei19w81cg().s[16]++;return ttfObject;}else{cov_2ei19w81cg().b[2][1]++;}// new TTF Object
var ttf=(cov_2ei19w81cg().s[17]++,new TTF(ttfObject));// get target glyfs then set
cov_2ei19w81cg().s[18]++;ttf.setGlyf(getSubsetGlyfs(ttf,subset));// use plugin
cov_2ei19w81cg().s[19]++;if(_.isFunction(plugin)){cov_2ei19w81cg().b[3][0]++;cov_2ei19w81cg().s[20]++;plugin(ttf);}else{cov_2ei19w81cg().b[3][1]++;}cov_2ei19w81cg().s[21]++;return ttf.get();}/**
 * minifyTtf
 *
 * @param  {Buffer|Object} contents         contents
 * @param  {Object} opts         opts
 * @return {Buffer}              buffer
 */function minifyTtf(contents,opts){cov_2ei19w81cg().f[2]++;cov_2ei19w81cg().s[22]++;opts=(cov_2ei19w81cg().b[4][0]++,opts)||(cov_2ei19w81cg().b[4][1]++,{});var ttfobj=(cov_2ei19w81cg().s[23]++,contents);cov_2ei19w81cg().s[24]++;if(Buffer.isBuffer(contents)){cov_2ei19w81cg().b[5][0]++;cov_2ei19w81cg().s[25]++;ttfobj=new TTFReader(opts).read(b2ab(contents));}else{cov_2ei19w81cg().b[5][1]++;}var miniObj=(cov_2ei19w81cg().s[26]++,minifyFontObject(ttfobj,opts.subset,opts.use));var ttfBuffer=(cov_2ei19w81cg().s[27]++,ab2b(new TTFWriter(opts).write(miniObj)));cov_2ei19w81cg().s[28]++;return{object:miniObj,buffer:ttfBuffer};}/**
 * glyph fontmin plugin
 *
 * @param {Object} opts opts
 * @param {string=} opts.text text
 * @param {boolean=} opts.basicText useBasicText
 * @param {boolean=} opts.hinting hint
 * @param {Function=} opts.use plugin
 * @return {Object} stream.Transform instance
 * @api public
 */cov_2ei19w81cg().s[29]++;module.exports=function(opts){cov_2ei19w81cg().f[3]++;cov_2ei19w81cg().s[30]++;opts=_.extend({hinting:true,trim:true},opts);// prepare subset
var subsetText=(cov_2ei19w81cg().s[31]++,util.getSubsetText(opts));cov_2ei19w81cg().s[32]++;opts.subset=util.string2unicodes(subsetText);cov_2ei19w81cg().s[33]++;return through.ctor({objectMode:true},function(file,enc,cb){cov_2ei19w81cg().f[4]++;cov_2ei19w81cg().s[34]++;// check null
if(file.isNull()){cov_2ei19w81cg().b[6][0]++;cov_2ei19w81cg().s[35]++;cb(null,file);cov_2ei19w81cg().s[36]++;return;}else{cov_2ei19w81cg().b[6][1]++;}// check stream
cov_2ei19w81cg().s[37]++;if(file.isStream()){cov_2ei19w81cg().b[7][0]++;cov_2ei19w81cg().s[38]++;cb(new Error('Streaming is not supported'));cov_2ei19w81cg().s[39]++;return;}else{cov_2ei19w81cg().b[7][1]++;}// check ttf
cov_2ei19w81cg().s[40]++;if(!isTtf(file.contents)){cov_2ei19w81cg().b[8][0]++;cov_2ei19w81cg().s[41]++;cb(null,file);cov_2ei19w81cg().s[42]++;return;}else{cov_2ei19w81cg().b[8][1]++;}cov_2ei19w81cg().s[43]++;try{// write file buffer
var miniTtf=(cov_2ei19w81cg().s[44]++,minifyTtf((cov_2ei19w81cg().b[9][0]++,file.ttfObject)||(cov_2ei19w81cg().b[9][1]++,file.contents),opts));cov_2ei19w81cg().s[45]++;file.contents=miniTtf.buffer;cov_2ei19w81cg().s[46]++;file.ttfObject=miniTtf.object;cov_2ei19w81cg().s[47]++;cb(null,file);}catch(err){cov_2ei19w81cg().s[48]++;cb(err);}});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmVpMTl3ODFjZyIsImFjdHVhbENvdmVyYWdlIiwiXyIsInMiLCJyZXF1aXJlIiwiaXNUdGYiLCJ0aHJvdWdoIiwiVFRGIiwiVFRGUmVhZGVyIiwiVFRGV3JpdGVyIiwiYjJhYiIsImFiMmIiLCJ1dGlsIiwiZ2V0U3Vic2V0R2x5ZnMiLCJ0dGYiLCJzdWJzZXQiLCJmIiwiZ2x5cGhzIiwiaW5kZXhMaXN0IiwiZmluZEdseWYiLCJ1bmljb2RlIiwiYiIsImxlbmd0aCIsImdldEdseWYiLCJ1bnNoaWZ0IiwiZ2V0IiwiZ2x5ZiIsIm1pbmlmeUZvbnRPYmplY3QiLCJ0dGZPYmplY3QiLCJwbHVnaW4iLCJzZXRHbHlmIiwiaXNGdW5jdGlvbiIsIm1pbmlmeVR0ZiIsImNvbnRlbnRzIiwib3B0cyIsInR0Zm9iaiIsIkJ1ZmZlciIsImlzQnVmZmVyIiwicmVhZCIsIm1pbmlPYmoiLCJ1c2UiLCJ0dGZCdWZmZXIiLCJ3cml0ZSIsIm9iamVjdCIsImJ1ZmZlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJleHRlbmQiLCJoaW50aW5nIiwidHJpbSIsInN1YnNldFRleHQiLCJnZXRTdWJzZXRUZXh0Iiwic3RyaW5nMnVuaWNvZGVzIiwiY3RvciIsIm9iamVjdE1vZGUiLCJmaWxlIiwiZW5jIiwiY2IiLCJpc051bGwiLCJpc1N0cmVhbSIsIkVycm9yIiwibWluaVR0ZiIsImVyciJdLCJzb3VyY2VzIjpbImdseXBoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgZ2x5cGhcbiAqIEBhdXRob3IganVubWVyXG4gKi9cblxuLyogZXNsaW50LWVudiBub2RlICovXG5cbnZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgaXNUdGYgPSByZXF1aXJlKCdpcy10dGYnKTtcbnZhciB0aHJvdWdoID0gcmVxdWlyZSgndGhyb3VnaDInKTtcbnZhciBUVEYgPSByZXF1aXJlKCdmb250ZWRpdG9yLWNvcmUnKS5UVEY7XG52YXIgVFRGUmVhZGVyID0gcmVxdWlyZSgnZm9udGVkaXRvci1jb3JlJykuVFRGUmVhZGVyO1xudmFyIFRURldyaXRlciA9IHJlcXVpcmUoJ2ZvbnRlZGl0b3ItY29yZScpLlRURldyaXRlcjtcbnZhciBiMmFiID0gcmVxdWlyZSgnYjNiJykuYjJhYjtcbnZhciBhYjJiID0gcmVxdWlyZSgnYjNiJykuYWIyYjtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vbGliL3V0aWwnKTtcblxuLyoqXG4gKiBnZXRTdWJzZXRHbHlmc1xuICpcbiAqIEBwYXJhbSAge3R0Zk9iamVjdH0gdHRmIHR0Zm9ialxuICogQHBhcmFtICB7QXJyYXl9IHN1YnNldCBzdWJzZXQgdW5pY29kZVxuICogQHJldHVybiB7QXJyYXl9ICAgICBnbHlmcyBhcnJheVxuICovXG5mdW5jdGlvbiBnZXRTdWJzZXRHbHlmcyh0dGYsIHN1YnNldCkge1xuXG4gICAgdmFyIGdseXBocyA9IFtdO1xuXG4gICAgdmFyIGluZGV4TGlzdCA9IHR0Zi5maW5kR2x5Zih7XG4gICAgICAgIHVuaWNvZGU6IHN1YnNldCB8fCBbXVxuICAgIH0pO1xuXG4gICAgaWYgKGluZGV4TGlzdC5sZW5ndGgpIHtcbiAgICAgICAgZ2x5cGhzID0gdHRmLmdldEdseWYoaW5kZXhMaXN0KTtcbiAgICB9XG5cbiAgICBnbHlwaHMudW5zaGlmdCh0dGYuZ2V0KCkuZ2x5ZlswXSk7XG5cbiAgICByZXR1cm4gZ2x5cGhzO1xufVxuXG5cbi8qKlxuICogbWluaWZ5Rm9udE9iamVjdFxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gdHRmT2JqZWN0ICAgIHR0Zk9iamVjdFxuICogQHBhcmFtICB7QXJyYXl9IHN1YnNldCAgICAgICAgIHN1YnNldFxuICogQHBhcmFtICB7RnVuY3Rpb249fSBwbHVnaW4gICAgICAgdXNlIHBsdWdpblxuICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgICAgdHRmT2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1pbmlmeUZvbnRPYmplY3QodHRmT2JqZWN0LCBzdWJzZXQsIHBsdWdpbikge1xuXG4gICAgLy8gY2hlY2sgbnVsbFxuICAgIGlmIChzdWJzZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0dGZPYmplY3Q7XG4gICAgfVxuXG4gICAgLy8gbmV3IFRURiBPYmplY3RcbiAgICB2YXIgdHRmID0gbmV3IFRURih0dGZPYmplY3QpO1xuXG4gICAgLy8gZ2V0IHRhcmdldCBnbHlmcyB0aGVuIHNldFxuICAgIHR0Zi5zZXRHbHlmKGdldFN1YnNldEdseWZzKHR0Ziwgc3Vic2V0KSk7XG5cbiAgICAvLyB1c2UgcGx1Z2luXG4gICAgaWYgKF8uaXNGdW5jdGlvbihwbHVnaW4pKSB7XG4gICAgICAgIHBsdWdpbih0dGYpO1xuICAgIH1cblxuICAgIHJldHVybiB0dGYuZ2V0KCk7XG59XG5cblxuLyoqXG4gKiBtaW5pZnlUdGZcbiAqXG4gKiBAcGFyYW0gIHtCdWZmZXJ8T2JqZWN0fSBjb250ZW50cyAgICAgICAgIGNvbnRlbnRzXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdHMgICAgICAgICBvcHRzXG4gKiBAcmV0dXJuIHtCdWZmZXJ9ICAgICAgICAgICAgICBidWZmZXJcbiAqL1xuZnVuY3Rpb24gbWluaWZ5VHRmKGNvbnRlbnRzLCBvcHRzKSB7XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIHZhciB0dGZvYmogPSBjb250ZW50cztcblxuICAgIGlmIChCdWZmZXIuaXNCdWZmZXIoY29udGVudHMpKSB7XG4gICAgICAgIHR0Zm9iaiA9IG5ldyBUVEZSZWFkZXIob3B0cykucmVhZChiMmFiKGNvbnRlbnRzKSk7XG4gICAgfVxuXG4gICAgdmFyIG1pbmlPYmogPSBtaW5pZnlGb250T2JqZWN0KFxuICAgICAgICB0dGZvYmosXG4gICAgICAgIG9wdHMuc3Vic2V0LFxuICAgICAgICBvcHRzLnVzZVxuICAgICk7XG5cbiAgICB2YXIgdHRmQnVmZmVyID0gYWIyYihcbiAgICAgICAgbmV3IFRURldyaXRlcihvcHRzKS53cml0ZShtaW5pT2JqKVxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBvYmplY3Q6IG1pbmlPYmosXG4gICAgICAgIGJ1ZmZlcjogdHRmQnVmZmVyXG4gICAgfTtcblxufVxuXG5cbi8qKlxuICogZ2x5cGggZm9udG1pbiBwbHVnaW5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBvcHRzXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdHMudGV4dCB0ZXh0XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRzLmJhc2ljVGV4dCB1c2VCYXNpY1RleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdHMuaGludGluZyBoaW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9uPX0gb3B0cy51c2UgcGx1Z2luXG4gKiBAcmV0dXJuIHtPYmplY3R9IHN0cmVhbS5UcmFuc2Zvcm0gaW5zdGFuY2VcbiAqIEBhcGkgcHVibGljXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMpIHtcblxuICAgIG9wdHMgPSBfLmV4dGVuZCh7aGludGluZzogdHJ1ZSwgdHJpbTogdHJ1ZX0sIG9wdHMpO1xuXG4gICAgLy8gcHJlcGFyZSBzdWJzZXRcbiAgICB2YXIgc3Vic2V0VGV4dCA9IHV0aWwuZ2V0U3Vic2V0VGV4dChvcHRzKTtcbiAgICBvcHRzLnN1YnNldCA9IHV0aWwuc3RyaW5nMnVuaWNvZGVzKHN1YnNldFRleHQpO1xuXG5cbiAgICByZXR1cm4gdGhyb3VnaC5jdG9yKHtcbiAgICAgICAgb2JqZWN0TW9kZTogdHJ1ZVxuICAgIH0sIGZ1bmN0aW9uIChmaWxlLCBlbmMsIGNiKSB7XG5cbiAgICAgICAgLy8gY2hlY2sgbnVsbFxuICAgICAgICBpZiAoZmlsZS5pc051bGwoKSkge1xuICAgICAgICAgICAgY2IobnVsbCwgZmlsZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBzdHJlYW1cbiAgICAgICAgaWYgKGZpbGUuaXNTdHJlYW0oKSkge1xuICAgICAgICAgICAgY2IobmV3IEVycm9yKCdTdHJlYW1pbmcgaXMgbm90IHN1cHBvcnRlZCcpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIHR0ZlxuICAgICAgICBpZiAoIWlzVHRmKGZpbGUuY29udGVudHMpKSB7XG4gICAgICAgICAgICBjYihudWxsLCBmaWxlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIC8vIHdyaXRlIGZpbGUgYnVmZmVyXG4gICAgICAgICAgICB2YXIgbWluaVR0ZiA9IG1pbmlmeVR0ZihcbiAgICAgICAgICAgICAgICBmaWxlLnR0Zk9iamVjdCB8fCBmaWxlLmNvbnRlbnRzLFxuICAgICAgICAgICAgICAgIG9wdHNcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZpbGUuY29udGVudHMgPSBtaW5pVHRmLmJ1ZmZlcjtcbiAgICAgICAgICAgIGZpbGUudHRmT2JqZWN0ID0gbWluaVR0Zi5vYmplY3Q7XG5cbiAgICAgICAgICAgIGNiKG51bGwsIGZpbGUpO1xuXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbn07XG4iXSwibWFwcGluZ3MiOiJ1NU1BZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlo7QUFDQTtBQUNBO0FBQ0EsR0FIQSxDQUtBLHFCQUVBLEdBQUksQ0FBQUUsQ0FBQyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUN6QixHQUFJLENBQUFDLEtBQUssRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFDN0IsR0FBSSxDQUFBRSxPQUFPLEVBQUFOLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQ2pDLEdBQUksQ0FBQUcs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